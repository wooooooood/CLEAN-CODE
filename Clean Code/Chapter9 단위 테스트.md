# Chapter 9 단위 테스트
- TDD는 실제 코드를 짜기 전에 단위 테스트부터 짜라고 요구한다!

## 1 TDD 법칙 세가지
1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

## 2 클린 테스트 코드 유지
- 실제 코드가 진화하면 테스트 코드도 변경해야 하며, 테스트 코드가 지저분할 경우 변경이 어려워진다. (ex. 아무렇게나 지은 변수명)
- 테스트 코드가 지저분할수록 테스트 케이스를 통과시키기 어려워지며, 테스트 수트를 유지하는 것이 부담된다.
- 하지만 테스트 수트가 없으면 안전을 검증하지 못해 결함률이 높아진다.
- 테스트 코드도 실제 코드 못지 않게 중요하다.
- 테스트 코드가 지저분할수록 실제 코드도 지저분해진다.

## 3 클린 테스트 코드
- 가독성 = 명료성 + 단순성 + 풍부한 표현력
- `Build-Operate-Check` 패턴: 테스트 자료를 만든다 -> 테스트 자료를 조작한다 -> 조작한 결과가 올바른지 확인한다
- 테스트 코드에 적용하는 표준은 실제 코드에 적용하는 표준과 다를 수 있다. (ex. 더 간결하거나, 덜 상세하거나, 덜 효율적일 수 있다.)

## 4 테스트 당 assert 하나
- 결론이 하나라서 코드를 이해하기 쉽고 빠르다
- 함수 하나 당 assert는 최대한 줄이는 것이 좋다
- 테스트 당 개념 하나

## 5 클린 테스트의 규칙: F I R S T
- **F**ast: 테스트는 빨라야 한다.
- **I**ndependent: 테스트는 서로 의존하면 안된다. (ex. 한 테스트가 다음 테스트가 실행될 환경을 준비하면 안됨)
- **R**epeatable: 테스트는 어떤 환경에서도 반복 가능해야 한다. (ex. 네트워크 연결되지 않는 환경에서도)
- **S**elf-validating: 테스트는 bool값으로 결과를 내야 한다. 성공 아니면 실패다.
- **T**imely: 단위 테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.
